;драйвер памяти для;Scorpion GMX 2Mb;119 страниц без 02,05,07,08,09,39,3a,79,7a;на входе в A номер страницы;на выходе флаг C=1 если нельзя включить такую страницуpag_on         ; cp   #02  ;исключить стр. 02         ; jr   c,pag_on02         ; inc  a; pag_on02 cp   #05  ;исключить стр. 05         ; jr   c,pag_on05         ; inc  a; pag_on05 cp   #07  ;исключить стр. 07         ; jr   c,pag_on07         ; inc  a; pag_on07 cp   #08  ;исключить стр. 08         ; jr   c,pag_on08         ; inc  a; pag_on08 cp   #09  ;исключить стр. 09         ; jr   c,pag_on09         ; inc  a; pag_on09 cp   #39  ;исключить стр. 39         ; jr   c,pag_on39         ; inc  a; pag_on39 cp   #3a  ;исключить стр. 3a         ; jr   c,pag_on3a         ; inc  a; pag_on3a cp   #79  ;исключить стр. 79         ; jr   c,pag_on79         ; inc  a; pag_on79 cp   #7a  ;исключить стр. 7a         ; jr   c,pag_on7a         ; inc  a; pag_on7a         ; cp   #80  ;последняя страница         ; ccf         ;сбросить флаг         ; ret  c         ;push bc     ;переключаем         push af         rlca         and  #10         ld   bc,#1ffd         out  (c),a         pop  af         push af         and  #07         or   #10         ld   b,#7f      ;   ld   (#5b5c),a  ;syst var         out  (c),a         pop  af         rrca         rrca         rrca         rrca         and  #07         ld   b,#df         out  (c),a        ; pop  bc         ret; clock    ld   d,%00100000         ; rst  8         ; db   #89         ; ret